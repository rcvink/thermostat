<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Thermostat</title>
    <link href="public/stylesheet.css" type="text/css" rel="stylesheet">
    <style>
    </style>
  </head>

  <body>

    <h1>Temperature:</h1>
    <h1 id="temperature"></h1>
    <h1>Eco Mode:</h1>
    <h1 id="eco"></h1>
    <h1>Energy consumption:</h1>
    <h1 id="consumption"></h1>

    <button id="increase" type="button">+</button>
    <button id="decrease" type="button">-</button>
    <button id="reset" type="button">Reset</button>
    <button id="eco-mode" type="button">Eco mode</button>

    <script src="./src/Thermostat.js"></script>
    <script src="./jquery-3.3.1.js"></script>

    <script>

    $(document).ready(function() {
      var thermostat = new Thermostat();
      updateAllVariables();

      $('#increase').on('click', function() {
        thermostat.up();
        updateAllVariables();
      });

      $('#decrease').on('click', function() {
        thermostat.down();
        updateAllVariables();
      });

      $('#reset').on('click', function() {
        thermostat.reset();
        updateAllVariables();
      });

      $('#eco-mode').on('click', function() {
        thermostat.changePowerMode();
        updateAllVariables();
      });

      function updateAllVariables() {
        _updateTemperature();
        _updateMode();
        _updateConsumption();
      };

      function _updateTemperature() {
        $('#temperature').text(thermostat.temperature());
        $('#temperature').attr('class', thermostat.currentUsage());
      };

      function _updateMode() {
        $('#eco').text(thermostat.isPowerSaving() ? "On" : "Off");
      };

      function _updateConsumption() {
        $('#consumption').text(thermostat.currentUsage());
      };
    });

    </script>

  </body>

</html>
